\documentclass[11pt]{article}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[margin=1in, headheight=15pt]{geometry}
\usepackage{amsmath, amsthm, amsfonts}
\usepackage{hyperref}
\usepackage{pgfplotstable}
\pgfplotsset{compat=1.12}
\usepackage{booktabs}

\usepackage{fancyhdr, setspace}
\renewcommand{\headrulewidth}{0pt}
\pagestyle{fancy}
\setlength{\headheight}{15pt} % Removes warnings. Set to 30pt if 2 lines on the header.
\lhead{}
\rhead{}
\usepackage{totcount}
\regtotcounter{page}
\cfoot{\ifnum\totvalue{page} > 1 \thepage \else\fi}

\usepackage{enumitem}
\setlist{parsep=0pt, listparindent=0.5cm}

\begin{document}
\title{Simplifying Parallel Graph Processing: \\
	\large Survey of Existing Platforms
}
\author{Samuel Pollard (\href{mailto:spollard@cs.uoregon.edu}{spollard@cs.uoregon.edu})}
\date{\today}
\maketitle

This is a survey of existing graph analytics frameworks.

\section{Machine Specifications}
Table~\ref{tab:specs} shows the specifications of the research computer (named Arya).

% TODO: Make this a pgfplotstable with an automatically generated csv.
\begin{table}[!htb]
	\centering
% Arya
%	\begin{tabular}{l|r}
%		CPU & 72 Core Intel Xeon E5 2699 v3\\ \hline
%		RAM & 256 GB DDR4 2133 MHz
%	\end{tabular}

% Keep in mind you can do this at the beginning: string replace={s1}{s2}
	\pgfplotstabletypeset[
	header=false,
	col sep=tab,
	string type,
    every head row/.style={output empty row, before row=\bottomrule},
	columns/0/.style={column type={|r|}},
	columns/1/.style={column type={l|}},
	every last row/.style={after row=\toprule},
	]{specs.csv}
	\caption{Machine specifications.}
	\label{tab:specs}
\end{table}

%\begin{table}[htb]
%	\centering
%	\begin{tabular}{lr}
%		Transport & \\ \hline
%		Network Topology & \\ \hline
%		Local Scheduling & \\ \hline
%		Runtime Feedback & \\ \hline
%		Approach & \\ \hline
%		Algorithmic Considerations & \\ \hline
%	\end{tabular}
%	\caption{Middleware specifications}
%	\label{tab:reportcard}
%\end{table}

\section{Performance}
Graphalytics without the use of the Granula plugin produces performance measurement in two forms: runtime in seconds and traversed edges per second.

Table~\ref{tab:perf} lists performance in millions of traversed edges per second (MTEPS) according to the graphalytics output. While this metric is simple to compute it is invariant across algorithms: for example, computing the local clustering coefficient involves traversing each edge multiple times (proportional to the sparsity of the graph), while breadth first search (BFS) traverses each edge exactly once, and on na\:ive implementations single-source shortest paths (SSSP) may have $O(|E| + |V|^2)$ traversed edges.
% TODO: Cite Comer algorithm book for Dijkstra's algorithm runtime.

% TODO: This should be unnecessary once autogeneration is used.
\begin{table}[!htb]
	\centering
	\begin{tabular}{l|r|r|}
	 & PowerGraph & OpenG \\ \hline
	BFS & 81.8 & 341 \\ \hline
	SSSP & 1.64 & 15.0 \\ \hline
	LCC & 54.6 & 142 \\ \hline
	\end{tabular}
	\caption{Performance Results for the \texttt{dota-league} dataset with 61,670 vertices and 50,870,313 edges. BFS is breadth-first search, SSSP is single-source shortest paths, LCC is local clustering coefficient.}
	\label{tab:perf}
\end{table}

\section{Graph Processing Taxonomy}
This is in the spirit of \cite{Doekemeijer:2015:GPFSurvey}. Here, ``|'' means ``or'' and ``+'' means ``and.'' FOSS means Free and Open Source Software. The quotes around ``yes'' for HPC mean that the product claims to be amenable to high performance computing. Whether these actually achieve their goal is one of the purposes of this project.
\begin{table}[!htb]
	\begin{minipage}{\linewidth} % So the footnotes all get printed on the same page
		\centering
		% \small
		\pgfplotstabletypeset[
			col sep=comma,
			string type, % Makes the .style={string type} redundant
			columns={Name,Type,HPC,Parallelism,Target,FOSS,Source,Notes},
			every head row/.style={after row=\midrule},
			columns/Name/.style={string type, column type={l|}},
			columns/Type/.style={string type},
			columns/HPC/.style={string type},
			columns/Parallelism/.style={string type},
%			columns/Comm./.style={%
%				string type,
%				postproc cell content/.style={%
%					@cell content/.add={\footnotesize}
%				}
%			},
			columns/Target/.style={string type},
			columns/FOSS/.style={string type},
			columns/Source/.style={string type},
			columns/Notes/.style={
				preproc cell content/.style={@cell content=
					\ifx&##1&% Only make a footnote if the cell is nonempty
						##1
					\else
						\footnote{##1}
					\fi}
			},
		]{platforms.csv}
		\caption{Tools used for graph processing}
		\label{tab:frameworks}
	\end{minipage}
\end{table}


\section{Conclusion} % Begin with the end in mind...
We have presented an updated survey of parallel graph processing frameworks supplementary to \cite{Doekemeijer:2015:GPFSurvey}. From this, we have selected a representative subset of frameworks on which performance is analyzed and have stored these results in a database. To facilitate parallel graph processing, hardware information and performance results are automatically populated (as were all the tables in this paper). These performance results are then used to provide simple recommendations of the optimally-performing framework given a particular algorithm and problem size.
% We have developed a simple model of hardware and its correlation with performance to predict performance on other architectures

\bibliographystyle{acm}
\bibliography{drp}

\end{document}